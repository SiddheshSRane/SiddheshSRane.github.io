import React, { useState } from 'react';

// Small icon components (kept internal for single-file delivery)
const IconMenu = ({ className = 'h-6 w-6', ...props }) => (
  <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" aria-hidden="true" {...props}>
    <path d="M3 12h18M3 6h18M3 18h18" />
  </svg>
);
const IconClose = ({ className = 'h-6 w-6', ...props }) => (
  <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" aria-hidden="true" {...props}>
    <path d="M18 6L6 18M6 6l12 12" />
  </svg>
);
const IconSun = ({ className = 'h-5 w-5', ...props }) => (
  <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" aria-hidden="true" {...props}>
    <circle cx="12" cy="12" r="4" />
    <path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M4.93 19.07l1.41-1.41M17.66 6.34l1.41-1.41" />
  </svg>
);
const IconMoon = ({ className = 'h-5 w-5', ...props }) => (
  <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" aria-hidden="true" {...props}>
    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" />
  </svg>
);

export default function App() {
  const [mobileOpen, setMobileOpen] = useState(false);
  const [dark, setDark] = useState(false);
  const [formStatus, setFormStatus] = useState(null);

  const projects = [
    { title: 'Digital Music Store — SQL', desc: 'Advanced SQL queries to uncover sales & inventory insights.', url: 'https://github.com/SiddheshSRane/Music-Store-Data-Analysis-using-SQL' },
    { title: 'Diwali Sales Analysis — Python', desc: 'EDA with Pandas & Seaborn on seasonal sales.', url: 'https://github.com/SiddheshSRane/Python_Diwali_Sales_Analysis' },
    { title: 'Madhav Store Dashboard — Power BI', desc: 'Interactive sales dashboard with KPIs.', url: 'https://github.com/SiddheshSRane/Madhav_Store_PowerBI_Dashboard' },
    { title: 'Super Store Dashboard — Power BI', desc: 'Superstore performance dashboards.', url: 'https://github.com/SiddheshSRane/Super-Store-Sales-Dashboard' },
  ];

  function handleContact(e) {
    e.preventDefault();
    const form = e.target;
    const name = form.name.value.trim();
    const email = form.email.value.trim();
    const message = form.message.value.trim();
    if (!name || !email || !message) {
      setFormStatus({ type: 'error', text: 'Please fill all fields.' });
      return;
    }
    if (!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(email)) {
      setFormStatus({ type: 'error', text: 'Please enter a valid email.' });
      return;
    }
    setFormStatus({ type: 'success', text: 'Thanks — message sent (demo).' });
    form.reset();
    setTimeout(() => setFormStatus(null), 4000);
  }

  return (
    <div className={dark ? 'dark' : ''}>
      <div className="min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 transition-colors">
        <header className="sticky top-0 z-40 bg-white/90 dark:bg-gray-900/80 backdrop-blur border-b border-gray-200 dark:border-gray-800">
          <div className="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div className="grid grid-cols-[auto_1fr_auto] items-center gap-4 py-4">
              <div className="brand">
                <a href="#home" className="text-xl font-bold tracking-tight">Siddhesh Rane</a>
              </div>

              <nav className="hidden md:flex justify-center space-x-8">
                <a href="#home" className="hover:text-blue-500">Home</a>
                <a href="#about" className="hover:text-blue-500">About</a>
                <a href="#skills" className="hover:text-blue-500">Skills</a>
                <a href="#experience" className="hover:text-blue-500">Experience</a>
                <a href="#projects" className="hover:text-blue-500">Projects</a>
                <a href="#certifications" className="hover:text-blue-500">Certifications</a>
                <a href="#education" className="hover:text-blue-500">Education</a>
                <a href="#contact" className="hover:text-blue-500">Contact</a>
              </nav>

              <div className="flex items-center justify-end gap-3">
                <button aria-label="Toggle theme" onClick={() => setDark(d => !d)} className="p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">
                  {dark ? <IconSun /> : <IconMoon />}
                </button>
                <a href="#projects" className="hidden sm:inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">Explore</a>
                <a href="https://drive.google.com/uc?export=download&id=1iqG9G8T-LUpb11OG82Xb2Qd8jEc1H6lO" target="_blank" rel="noopener noreferrer" className="hidden sm:inline-flex items-center px-3 py-2 border rounded-md">Resume</a>
                <button className="md:hidden p-2" onClick={() => setMobileOpen(o => !o)} aria-expanded={mobileOpen} aria-label="Toggle menu">
                  {mobileOpen ? <IconClose /> : <IconMenu />}
                </button>
              </div>
            </div>
          </div>

          <div className={`md:hidden ${mobileOpen ? 'max-h-96' : 'max-h-0'} overflow-hidden transition-[max-height] duration-300 border-t border-gray-100 dark:border-gray-800 bg-white dark:bg-gray-900`} id="mobile-menu">
            <div className="px-4 py-3 space-y-2">
              {['home','about','skills','experience','projects','certifications','education','contact'].map((s) => (
                <a key={s} href={`#${s}`} onClick={() => setMobileOpen(false)} className="block py-2">{s.charAt(0).toUpperCase()+s.slice(1)}</a>
              ))}
            </div>
          </div>
        </header>

        <main className="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
          <section id="home" className="grid lg:grid-cols-2 gap-8 items-center">
            <div>
              <p className="text-sm text-blue-600 font-semibold">Junior Data Analyst</p>
              <h1 className="mt-3 text-4xl font-extrabold leading-tight">Hi, I’m Siddhesh Rane — I turn data into decisions.</h1>
              <p className="mt-4 text-gray-600 dark:text-gray-300 max-w-xl">Skilled in SQL, Python, Power BI and Excel. I build dashboards, perform EDA, and automate reports to help teams act faster.</p>
              <div className="mt-6 flex flex-wrap gap-3">
                <a href="#projects" className="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">View projects</a>
                <a href="#contact" className="inline-flex items-center px-4 py-2 border rounded-md">Get in touch</a>
              </div>
            </div>
          </section>

          <section id="about" className="mt-16">
            <h2>About</h2>
            <p className="mt-4 text-gray-600 dark:text-gray-300 max-w-3xl">I’m an aspiring Data Analyst passionate about transforming raw data into actionable insights. I enjoy cleaning messy datasets, building dashboards, and telling stories through visualization. My toolkit includes SQL, Python (Pandas), Power BI, and Excel.</p>
          </section>

          <section id="skills" className="mt-12">
            <h2>Skills</h2>
            <div className="mt-6 grid sm:grid-cols-2 lg:grid-cols-4 gap-4">
              {['SQL','Python','Pandas','Power BI','DAX','Excel','Power Query','Git'].map(s => (
                <div key={s} className="p-4 bg-white dark:bg-gray-800 rounded-lg border">
                  <div className="font-semibold">{s}</div>
                </div>
              ))}
            </div>
          </section>

          <section id="experience" className="mt-12">
            <h2>Experience</h2>
            <div className="mt-6 space-y-6">
              <div className="border rounded-lg p-4 bg-white dark:bg-gray-800">
                <div className="flex items-center justify-between">
                  <div>
                    <div className="font-semibold">Junior Data Analyst</div>
                    <div className="text-sm text-gray-500">Violet Infosystems Pvt. Ltd. — Nov 2024 – Present</div>
                  </div>
                </div>
                <ul className="mt-3 list-disc list-inside text-gray-600 dark:text-gray-300">
                  <li>Created Power BI dashboards for sales & operational insights.</li>
                  <li>Automated Excel reports, reducing manual effort.</li>
                  <li>Wrote SQL queries for data cleaning, validation, and analysis.</li>
                </ul>
              </div>

              <div className="border rounded-lg p-4 bg-white dark:bg-gray-800">
                <div className="font-semibold">Junior Data Analyst (Training)</div>
                <div className="text-sm text-gray-500">Violet Infosystems Pvt. Ltd. — May 2024 – Nov 2024</div>
                <ul className="mt-3 list-disc list-inside text-gray-600 dark:text-gray-300">
                  <li>Hands-on training in SQL, Python, Power BI & Excel.</li>
                  <li>Worked on live projects involving sales analytics.</li>
                </ul>
              </div>
            </div>
          </section>

          <section id="projects" className="mt-12">
            <h2>Projects</h2>
            <div className="mt-6 grid md:grid-cols-2 gap-6">
              {projects.map(p => (
                <a key={p.title} href={p.url} target="_blank" rel="noopener noreferrer" className="block p-4 border rounded-lg bg-white dark:bg-gray-800 hover:shadow-lg transition">
                  <div className="font-semibold">{p.title}</div>
                  <div className="text-sm text-gray-500 mt-1">{p.desc}</div>
                </a>
              ))}
            </div>
          </section>

          <section id="certifications" className="mt-12">
            <h2>Certifications</h2>
            <div className="mt-4 flex flex-wrap gap-2">
              <span className="px-3 py-1 rounded-full bg-gray-100 dark:bg-gray-800 text-sm">HackerRank — SQL (Basic)</span>
              <span className="px-3 py-1 rounded-full bg-gray-100 dark:bg-gray-800 text-sm">TryCatch — Certified Data Scientist</span>
              <span className="px-3 py-1 rounded-full bg-gray-100 dark:bg-gray-800 text-sm">Accenture / Forage — Data Analytics Simulation</span>
            </div>
          </section>

          <section id="education" className="mt-12">
            <h2>Education</h2>
            <div className="mt-4 grid md:grid-cols-2 gap-4">
              <div className="p-4 border rounded-lg bg-white dark:bg-gray-800">
                <div className="font-semibold">B.E. Electronics Engineering</div>
                <div className="text-sm text-gray-500">Atharva College of Engineering (2019–2022)</div>
              </div>
              <div className="p-4 border rounded-lg bg-white dark:bg-gray-800">
                <div className="font-semibold">Diploma</div>
                <div className="text-sm text-gray-500">Thakur Polytechnic (2017–2019)</div>
              </div>
            </div>
          </section>

          <section id="contact" className="mt-12">
            <h2>Contact</h2>
            <div className="mt-6 grid md:grid-cols-2 gap-6">
              <form onSubmit={handleContact} className="p-4 border rounded-lg bg-white dark:bg-gray-800">
                <div className="grid grid-cols-1 gap-3">
                  <label className="text-sm">Name<input name="name" className="mt-1 block w-full rounded-md border p-2 bg-white dark:bg-gray-900" /></label>
                  <label className="text-sm">Email<input name="email" className="mt-1 block w-full rounded-md border p-2 bg-white dark:bg-gray-900" /></label>
                  <label className="text-sm">Message<textarea name="message" rows="4" className="mt-1 block w-full rounded-md border p-2 bg-white dark:bg-gray-900" /></label>
                  <div className="flex items-center gap-3">
                    <button type="submit" className="px-4 py-2 bg-blue-600 text-white rounded-md">Send</button>
                    <div className="text-sm text-gray-600 dark:text-gray-300">Or email: <a href="mailto:siddhesh@example.com" className="text-blue-600">siddhesh@example.com</a></div>
                  </div>
                  {formStatus && <div className={`mt-2 text-sm ${formStatus.type === 'error' ? 'text-red-600' : 'text-green-600'}`}>{formStatus.text}</div>}
                </div>
              </form>

              <div className="p-4 border rounded-lg bg-white dark:bg-gray-800">
                <h3>Connect</h3>
                <p className="mt-2 text-gray-600 dark:text-gray-300">GitHub, LinkedIn and Phone.</p>
                <ul className="mt-3 space-y-2 text-sm">
                  <li>GitHub: <a className="text-blue-600" href="https://github.com/SiddheshSRane" target="_blank" rel="noopener noreferrer">SiddheshSRane</a></li>
                  <li>LinkedIn: <a className="text-blue-600" href="https://www.linkedin.com/in/siddhesh-rane-657aa71b7/" target="_blank" rel="noopener noreferrer">Profile</a></li>
                  <li>Phone: <a href="tel:+919876543210" className="text-blue-600">+91 98765 43210</a></li>
                </ul>
              </div>
            </div>
          </section>

        </main>

        <footer className="border-t border-gray-200 dark:border-gray-800 py-6">
          <div className="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-sm text-gray-500">© 2025 Siddhesh Rane — Built with ❤️</div>
        </footer>

        <button id="backToTop" onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })} className="hidden fixed bottom-6 right-6 bg-blue-600 text-white px-3 py-2 rounded-md">↑ Top</button>
      </div>
