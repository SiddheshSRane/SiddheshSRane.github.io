import React, { useState, FormEvent } from 'react';

// Icon components
const IconMenu: React.FC<{ className?: string }> = ({ className = 'h-6 w-6' }) => (
  <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"
    strokeLinecap="round" strokeLinejoin="round" aria-hidden="true">
    <path d="M3 12h18M3 6h18M3 18h18" />
  </svg>
);

const IconClose: React.FC<{ className?: string }> = ({ className = 'h-6 w-6' }) => (
  <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"
    strokeLinecap="round" strokeLinejoin="round" aria-hidden="true">
    <path d="M18 6L6 18M6 6l12 12" />
  </svg>
);

const IconSun: React.FC<{ className?: string }> = ({ className = 'h-5 w-5' }) => (
  <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"
    strokeLinecap="round" strokeLinejoin="round" aria-hidden="true">
    <circle cx="12" cy="12" r="4" />
    <path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M4.93 19.07l1.41-1.41M17.66 6.34l1.41-1.41" />
  </svg>
);

const IconMoon: React.FC<{ className?: string }> = ({ className = 'h-5 w-5' }) => (
  <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"
    strokeLinecap="round" strokeLinejoin="round" aria-hidden="true">
    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" />
  </svg>
);

interface FormStatus {
  type: 'error' | 'success';
  text: string;
}

const App: React.FC = () => {
  const [mobileOpen, setMobileOpen] = useState(false);
  const [dark, setDark] = useState(false);
  const [formStatus, setFormStatus] = useState<FormStatus | null>(null);

  const projects = [
    { title: 'Digital Music Store — SQL', desc: 'Advanced SQL queries to uncover sales & inventory insights.', url: 'https://github.com/SiddheshSRane/Music-Store-Data-Analysis-using-SQL' },
    { title: 'Diwali Sales Analysis — Python', desc: 'EDA with Pandas & Seaborn on seasonal sales.', url: 'https://github.com/SiddheshSRane/Python_Diwali_Sales_Analysis' },
    { title: 'Madhav Store Dashboard — Power BI', desc: 'Interactive sales dashboard with KPIs.', url: 'https://github.com/SiddheshSRane/Madhav_Store_PowerBI_Dashboard' },
    { title: 'Super Store Dashboard — Power BI', desc: 'Superstore performance dashboards.', url: 'https://github.com/SiddheshSRane/Super-Store-Sales-Dashboard' },
  ];

  function handleContact(e: FormEvent<HTMLFormElement>) {
    e.preventDefault();
    const form = e.currentTarget;
    const name = (form.elements.namedItem('name') as HTMLInputElement).value.trim();
    const email = (form.elements.namedItem('email') as HTMLInputElement).value.trim();
    const message = (form.elements.namedItem('message') as HTMLTextAreaElement).value.trim();

    if (!name || !email || !message) {
      setFormStatus({ type: 'error', text: 'Please fill all fields.' });
      return;
    }

    if (!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(email)) {
      setFormStatus({ type: 'error', text: 'Please enter a valid email.' });
      return;
    }

    setFormStatus({ type: 'success', text: 'Thanks — message sent (demo).' });
    form.reset();
    setTimeout(() => setFormStatus(null), 4000);
  }

  return (
    <div className={dark ? 'dark' : ''}>
      {/* ... keep the rest of your JSX as it was ... */}
    </div>
  );
};

export default App;
